<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Purchase Predictor</title>


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    body.dark-mode {
        background-color: #121212 !important;
        color: #f1f1f1;
    }
    .dark-mode .card {
        background-color: #1e1e1e;
        color: white;
    }
    .dark-mode .form-control {
        background-color: #2b2b2b;
        color: white;
        border-color: #444;
    }
    .dark-mode .form-control::placeholder {
        color: #bbb;
    }
</style>


</head>

<body id="pageBody">

<div class="container mt-5">


<div class="text-end mb-2">
    <button onclick="toggleTheme()" class="btn btn-outline-secondary btn-sm">
        ðŸŒ™ / â˜€ Toggle Theme
    </button>
</div>

<div class="card shadow-lg p-4 mx-auto" style="max-width:500px;">
    <h2 class="text-center mb-4">Customer Purchase Prediction</h2>

    <form method="POST">
        {% csrf_token %}

        <div class="mb-3">
            <label class="form-label">Age</label>
            {{ form.age }}
        </div>

        <div class="mb-3">
            <label class="form-label">Estimated Salary</label>
            {{ form.salary }}
        </div>

        <div class="d-grid gap-2">
            <button class="btn btn-primary">Predict</button>
            <a href="{% url 'predict_view' %}" class="btn btn-outline-secondary">Clear</a>
        </div>
    </form>

    {% if result %}
    <div class="mt-4 text-center">

        {% if "NOT" in result %}
            <div class="alert alert-danger">
                <h4>{{ result }}</h4>
                <p class="mb-1">Probability: <strong>{{ probability }}%</strong></p>
            </div>
        {% else %}
            <div class="alert alert-success">
                <h4>{{ result }}</h4>
                <p class="mb-1">Probability: <strong>{{ probability }}%</strong></p>
            </div>
        {% endif %}

        <a href="{% url 'predict_view' %}" class="btn btn-secondary mt-2">
            New Prediction
        </a>

    </div>
    {% endif %}
</div>


</div>

<script>
function toggleTheme() {
    const body = document.getElementById("pageBody");
    body.classList.toggle("dark-mode");

    if(body.classList.contains("dark-mode")) {
        localStorage.setItem("theme", "dark");
    } else {
        localStorage.setItem("theme", "light");
    }
}

window.onload = function() {
    const savedTheme = localStorage.getItem("theme");
    if(savedTheme === "dark") {
        document.getElementById("pageBody").classList.add("dark-mode");
    }
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
